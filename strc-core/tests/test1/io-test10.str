module io-test10  
imports libstratego-lib
signature
  constructors
    Zero  : Nat
    Succ  : Nat -> Nat
    Plus  : Nat * Nat -> Nat

rules

  A : Plus(Zero, x) -> x
  B : Plus(Succ(x), y) -> Succ(Plus(x, y))

strategies

  eval = 
    innermost(A + B)

  srcdir =
    try(<conc-strings> (<getenv> "SRCDIR", <id>))

  main = 
    <conc>(<id>, ["-i", <srcdir> "io-test10.in", "-o", "io-test10.out"])
    ; io-wrap(eval)
