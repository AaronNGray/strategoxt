module eval-import
imports liblib Stratego
strategies

  eval-import = 
  ?Imports([])
  < id 
  + ?Imports([mod])
  < <call-sc> mod
    ; ?Specification([Signature(_),Strategies(<id>)])
    ; define-strategies
  + ?Imports(_);
     <fatal-error> ["error: import of multiple modules not supported yet"]
    
  call-sc = 
    ?mod; 
    iftrace(say(<conc-strings> ("importing module: ", mod)));
    <call-noisy>("sc", ["-i", mod, "-F" | <get-config> "-I" ]);
    <conc-strings; ReadFromFile> (mod, ".sdefs")
