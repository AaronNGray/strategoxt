Specification([Imports(["lib","config","verbose","xtc-lib","xtc-register","xtc-query"]),Strategies([SDef("xtc",[],LChoice(Seq(Call(SVar("parse-options"),[Call(SVar("xtc-options"),[])]),Seq(Call(SVar("xtc-location"),[]),Seq(Call(SVar("if-verbose2"),[Call(SVar("debug"),[Build(Str("Repository: "))])]),Seq(Call(SVar("xtc-read"),[]),Seq(LChoice(Seq(LChoice(Seq(BA(Call(SVar("get-config"),[]),Str("register")),Call(SVar("xtc-register"),[])),Seq(BA(Call(SVar("get-config"),[]),Str("import")),Call(SVar("register-import"),[]))),Call(SVar("xtc-store"),[])),Seq(BA(Call(SVar("get-config"),[]),Str("query")),Call(SVar("xtc-query"),[]))),BA(Call(SVar("exit"),[]),Int(0))))))),Call(SVar("debug"),[Build(Str("*** warning: xtc failed! "))]))),SDef("xtc-options",[],Choice(Call(SVar("ArgOption"),[Choice(Match(Str("-r")),Match(Str("--repository"))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("-r"),RootApp(Id)]))),Build(Str("--repository rep | -r rep    Tool repository"))]),Choice(Call(SVar("ArgOption"),[Choice(Match(Str("i")),Choice(Match(Str("imp")),Match(Str("import")))),Where(BA(Call(SVar("extend-config"),[]),Op("",[Str("import"),Op("Cons",[RootApp(Id),Op("Nil",[])])]))),Build(Str("import r | i r               Import repository r\n"))]),Choice(Call(SVar("Option"),[Choice(Match(Str("r")),Choice(Match(Str("reg")),Match(Str("register")))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("register"),RootApp(Id)]))),Build(Str("register | r                 Register a tool"))]),Choice(Call(SVar("ArgOption"),[Choice(Match(Str("-t")),Match(Str("--tool"))),Where(BA(Call(SVar("extend-config"),[]),Op("",[Str("-t"),Op("Cons",[RootApp(Id),Op("Nil",[])])]))),Build(Str("--tool n | -t n              Tool name"))]),Choice(Call(SVar("ArgOption"),[Choice(Match(Str("-l")),Match(Str("--location"))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("-l"),RootApp(Id)]))),Build(Str("-l loc  | --location loc     Location of tool"))]),Choice(Call(SVar("ArgOption"),[Choice(Match(Str("-V")),Match(Str("--Version"))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("-V"),RootApp(Id)]))),Build(Str("--Version n | -V n           Version of tool\n"))]),Choice(Call(SVar("Option"),[Choice(Match(Str("q")),Match(Str("query"))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("query"),RootApp(Id)]))),Build(Str("query | q                    Query the XTC repository"))]),Choice(Call(SVar("Option"),[Choice(Match(Str("-a")),Match(Str("--all"))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("-a"),Op("",[])]))),Build(Str("--all | -a                   List all registered tools"))]),Choice(Call(SVar("Option"),[Choice(Match(Str("-L")),Match(Str("--Location"))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("-l"),Op("",[])]))),Build(Str("--Location | -L              List only location of tool"))]),Choice(Call(SVar("Option"),[Choice(Match(Str("-R")),Match(Str("--Repository"))),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("-R"),Op("",[])]))),Build(Str("--Repository | -R            Location of repository\n"))]),Call(SVar("ArgOption"),[Match(Str("--verbose")),Where(BA(Call(SVar("set-config"),[]),Op("",[Str("--verbose"),RootApp(Call(SVar("string-to-int"),[]))]))),Build(Str("--verbose i                  Verbosity level i (default 1)"))])))))))))))),SDef("short-description",[DefaultVarDec("p")],Build(Op("Cons",[Str("Usage: xtc [-r rep] register -t tool -V vers -l loc\n"),Op("Cons",[Str("       xtc [-r rep] (import r)+\n"),Op("Cons",[Str("       xtc [-r rep] query (-a | -t tool [-V version]) [-L]"),Op("Nil",[])])])]))),SDef("long-description",[DefaultVarDec("p")],Build(Op("Cons",[Str("The xtc command supports the registration of tools in an XTC repository\n"),Op("Cons",[Str("and querying XTC repositories"),Op("Nil",[])])])))])])
