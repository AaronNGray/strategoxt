module sdf-ensugar
imports Sdf2-Syntax options simple-traversal

/**
 * sdf-ensugar implements the following ensugarings:
 *
 *   - add double quotes in String literals: cons, lit
 *   - replace attrs([]) by no-attrs
 *
 * Author:
 *   Martin Bravenboer
 */
strategies

  main-sdf-ensugar =
    io-wrap(
      topdown(repeat(Ensugar); try(EnsugarOnce))
    )

  Ensugar :
    attrs([]) -> no-attrs()

strategies
 
  EnsugarOnce =
    cons(double-quote)

  EnsugarOnce =
    lit(double-quote)
