module types/tasks

imports 
	task/-
  nbl/-
  types/-
  
signature
  
  constructors

    PropLookup: Property * Term  -> Instruction    
    PropCalc  : Term * Term      -> Instruction
    PropCheck : Term * Term      -> Instruction

rules
  

  perform-task: PropLookup(kind, t)  -> <!Done(<nabl-resolve-collect-one; nabl-get-property(|kind)>) <+ !Fail(kind)> t
  perform-task: PropCalc(p, check*)  -> <fetch-elem(?Fail(_)) <+ !Done(p)> check* 
  perform-task: PropCheck(p1, p2)    -> <eq < !Done(p1) + !Fail(p1)> (p1, p2)
  
  desugar-task(|task*): PropCalc(Type(), t) -> <type-task(|task*)> t
    