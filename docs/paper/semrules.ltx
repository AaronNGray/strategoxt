\begin{figure}[t]
\begin{boxedminipage}{\hsize}
\[
\begin{array}[t]{lc}
  \makebox[0pt][l]{\mbox{\sc\small{}LetLift:}} & \displaystyle
  e \goesto \term{let} \; \term{in} \; e
\\[15pt]
  \mbox{\sc\small{}LetLet:} & \displaystyle
  {
    \textrm{defs}({ds}_1) \cap \textrm{defs}({ds}_2) = \emptyset
    \over
    \term{let} \; {ds}_1 \; \term{in} \; \term{let} \; {ds}_2 \; \term{in} \; e
    \goesto
    \term{let} \; {ds}_1 {ds}_2 \; \term{in} \; e
    }
\\[15pt]
  \mbox{\makebox[0pt][l]{\sc\small{}Var:}} & \displaystyle
  {
    x \term{=} e \term{;} \in ds
    \over
    \term{let} \; ds \; \term{in} \; x
    \goesto
    \term{let} \; ds \; \term{in} \; e
    }
\\[10pt]
  \mbox{\makebox[0pt][l]{\sc\small{}Beta:}} & \displaystyle
  {
    x \not\in \textrm{defs}(ds)
    \over
    \term{let} \; ds \; \term{in} \; (x \; \ra \; e_1) \; e_2
    \goesto
    \term{let} \; ds \; \term{in} \; \term{let} \; x \term{=} e_2
    \term{;} \; \term{in} \; e_1
    }
\\[15pt]
  \mbox{\makebox[0pt][l]{\sc\small{}ConMatch$^+$:}} & \displaystyle
    \term{let} \; ds \; \term{in} \; (C \; \ra \; e) \; C 
    \goesto
    \term{let} \; ds \; \term{in} \; e 
\\[10pt]
  \mbox{\makebox[0pt][l]{\sc\small{}ConMatch$^-$:}} &  \displaystyle
  {
    C_1 \neq C_2
    \over
    \term{let} \; ds \; \term{in} \; (C_1 \; \ra \; e) \; C_2 
    \goesto
    \term{let} \; ds \; \term{in} \; \term{fail} 
    }
\\[15pt]
  \mbox{\makebox[0pt][l]{\sc\small{}AppMatch$^+$:}} & \displaystyle
  {
    \text{$(e_1 \; e_2)$ is a normal form}
    \over
    \begin{array}{l}
      \term{let} \; ds \; \term{in} \; (p_1 \; p_2 \; \ra \; e_3) \;
      (e_1 \; e_2) \goesto \\
      \term{let} \; ds \; \term{in} \; (p_1 \; \ra \; p_2 \ra \; e_3) \;
      e_1 \; e_2
    \end{array}
   }
\\[20pt]
  \makebox[0pt][l]{\mbox{\sc\small{}AppMatch$^-$:}} & \displaystyle
  {
    \text{$e_1$ is a normal form but not an application}
    \over
    \term{let} \; ds \; \term{in} \; (p_1 \; p_2 \; \ra \; e_3) \;
    e_1
    \goesto
    \term{let} \; ds \; \term{in} \; \term{fail}
    }
\\[15pt]
  \mbox{\makebox[0pt][l]{\sc\small{}FailMatch$^+$:}} & \displaystyle
  \term{let} \; ds \; \term{in} \; (\term{fail} \; \ra \; e) \; \term{fail}
  \goesto
  \term{let} \; ds \; \term{in} \; e \;
\\[10pt]
  \mbox{\makebox[0pt][l]{\sc\small{}FailMatch$^-$:}} & \displaystyle
  {
    \text{$e_2$ is a normal form}
    \; \wedge \;
    e_2 \neq \term{fail}
    \over
    \term{let} \; ds \; \term{in} \; (\term{fail} \; \ra \; e_1) \; e_2
    \goesto
    \term{let} \; ds \; \term{in} \; \term{fail}
    }
\end{array}
\]
\end{boxedminipage}
\caption{RhoStratego evaluation rules}
\label{fig:semantics}
\end{figure}

\begin{figure}[t]
\begin{boxedminipage}{\hsize}
\[
\begin{array}[t]{lc}
  \makebox[0pt][l]{\sc\small{}EvalFunc:} & \displaystyle
  {
    \term{let} \; ds \; \term{in} \; e_1
    \goesto
    \term{let} \; {ds}' \; \term{in} \; e'_1
    \over
    \term{let} \; ds \; \term{in} \; e_1 \; e_2
    \goesto
    \term{let} \; {ds}' \; \term{in} \; e'_1 \; e_2
    }
\\[15pt]
  \makebox[0pt][l]{\sc\small{}EvalArg:} & \displaystyle
  {
    \term{let} \; ds \; \term{in} \; e_2
    \goesto
    \term{let} \; {ds}' \; \term{in} \; e'_2
    \over
    \term{let} \; ds \; \term{in} \; e_1 \; e_2
    \goesto
    \term{let} \; {ds}' \; \term{in} \; e_1 \; e'_2
    }
\\[15pt]
  \makebox[0pt][l]{\sc\small{}PropFunc:} & \displaystyle
  \term{let} \; ds \; \term{in} \; \term{fail} \; e
  \goesto
  \term{let} \; ds \; \term{in} \; \term{fail}
\\[15pt]
  \makebox[0pt][l]{\sc\small{}EvalLeft:} & \displaystyle
  {
    \term{let} \; ds \; \term{in} \; e_1
    \goesto
    \term{let} \; {ds}' \; \term{in} \; e'_1
    \over
    \term{let} \; ds \; \term{in} \; e_1 \; \plus \; e_2
    \goesto
    \term{let} \; {ds}' \; \term{in} \; e'_1 \; \plus \; e_2
    }
\\[15pt]
  \makebox[0pt][l]{\sc\small{}LChoice:} & \displaystyle
  {
    \begin{array}{l}
    \text{$e_1$ is a normal form}
    \; \wedge \;
    e_1 \neq \term{fail} 
    \; \wedge \; \\
    e_1 \; \text{is not a cut or a function}
    \end{array}
    \over
    \term{let} \; ds \; \term{in} \; e_1 \; \plus \; e_2
    \goesto
    \term{let} \; ds \; \term{in} \; e_1
    }
\\[15pt]
  \makebox[0pt][l]{\sc\small{}LChoiceCut:} & \displaystyle
  \term{let} \; ds \; \term{in} \; \term{\cut{}} e_1 \; \plus \; e_2
  \goesto
  \term{let} \; ds \; \term{in} \; e_1
\\[15pt]
  \text{\sc\small{}RChoice:} & \displaystyle
  {
    \term{let} \; ds \; \term{in} \; \term{fail} \; \plus \; e
    \goesto
    \term{let} \; ds \; \term{in} \; e
    }
\\[15pt]
  \makebox[0pt][l]{\sc\small{}UncutFunc:} & \displaystyle
  \term{let} \; ds \; \term{in} \; \term{\cut{}} e_1 \; e_2
  \goesto
  \term{let} \; ds \; \term{in} \; e_1 \; e_2
\\[5pt]
  \makebox[0pt][l]{\sc\small{}UncutArg:} & 
  \\ & \displaystyle
  {
    \text{$p$ is a strict pattern}
    \over
    \term{let} \; ds \; \term{in} \; (p \ra e_1) \; \term{\cut{}} e_2
    \goesto
    \term{let} \; ds \; \term{in} \; (p \ra e_1) \; e_2
    }
\\[15pt]
  \makebox[0pt][l]{\sc\small{}Distrib:} & \displaystyle
  \term{let} \; ds \; \term{in} \; (e_1 \; \plus \; e_2) \; e_3
  \goesto
  \term{let} \; ds \; \term{in} \; e_1 \; e_3 \; \plus \; e_2 \; e_3
\end{array}
\]
\end{boxedminipage}
\contcaption{Continued}
\end{figure}
