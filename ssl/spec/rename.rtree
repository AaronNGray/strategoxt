Specification([Imports(["simple-traversal","tuple","list","env-traversal"]),Rules([RDef("RnVar",[VarDec("isvar",FunType([ConstType(Var("name")),FunType([ConstType(Var("name"))],ConstType(Var("env")))],ConstType(Var("term"))))],Rule(Op("",[Var("t"),Var("env")]),App(Call(SVar("isvar"),[Seq(Call(SVar("split"),[Id,Build(Var("env"))]),Call(SVar("lookup"),[]))]),Var("t")),Id)),RDef("RnBinding",[DefaultVarDec("bndvrs")],Rule(Op("",[Var("t"),Var("env1")]),Op("",[Var("t"),Var("env1"),Var("env2")]),Seq(AM(BA(Call(SVar("bndvrs"),[]),Var("t")),Var("xs")),Seq(AM(Call(SVar("map"),[Call(SVar("new"),[])]),Var("ys")),AM(BA(Call(SVar("conc"),[]),Op("",[App(Call(SVar("zip"),[Id]),Op("",[Var("xs"),Var("ys")])),Var("env1")])),Var("env2")))))),RDef("DistBinding",[DefaultVarDec("s")],Rule(Op("",[Var("t"),Var("env1"),Var("env2")]),App(All(LRule(Rule(Var("x"),App(Call(SVar("s"),[]),Op("",[Var("x"),Var("env2")])),Id))),Var("t")),Id))]),Strategies([SDef("rename",[VarDec("isvar",FunType([ConstType(Var("name")),FunType([ConstType(Var("name"))],ConstType(Var("env")))],ConstType(Var("term")))),DefaultVarDec("bndvars")],Seq(LRule(Rule(Var("t"),Op("",[Var("t"),Op("Nil",[])]),Id)),Rec("x",Call(SVar("env-alltd"),[LChoice(Call(SVar("RnVar"),[Call(SVar("isvar"),[])]),Seq(Call(SVar("RnBinding"),[Call(SVar("bndvars"),[])]),Call(SVar("DistBinding"),[Call(SVar("x"),[])])))]))))]),Rules([RDef("DistBinding",[DefaultVarDec("s"),VarDec("boundin",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term")))],ConstType(Var("term"))))],Rule(Op("",[Var("t"),Var("env1"),Var("env2")]),App(Call(SVar("boundin"),[LRule(Rule(Var("x"),App(Call(SVar("s"),[]),Op("",[Var("x"),Var("env2")])),Id)),LRule(Rule(Var("x"),App(Call(SVar("s"),[]),Op("",[Var("x"),Var("env1")])),Id)),Id]),Var("t")),Id))]),Strategies([SDef("rename",[VarDec("isvar",FunType([ConstType(Var("name")),FunType([ConstType(Var("name"))],ConstType(Var("env")))],ConstType(Var("term")))),DefaultVarDec("bndvars"),VarDec("boundin",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term")))],ConstType(Var("term"))))],Seq(LRule(Rule(Var("t"),Op("",[Var("t"),Op("Nil",[])]),Id)),Rec("x",Call(SVar("env-alltd"),[LChoice(Call(SVar("RnVar"),[Call(SVar("isvar"),[])]),Seq(Call(SVar("RnBinding"),[Call(SVar("bndvars"),[])]),Call(SVar("DistBinding"),[Call(SVar("x"),[]),Call(SVar("boundin"),[])])))]))))]),Rules([RDef("RnBinding",[DefaultVarDec("bndvrs"),VarDec("paste",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("vars")))],ConstType(Var("term"))))],Rule(Op("",[Var("t"),Var("env1")]),Op("",[App(Call(SVar("paste"),[Build(Var("ys"))]),Var("t")),Var("env1"),Var("env2")]),Seq(AM(BA(Call(SVar("bndvrs"),[]),Var("t")),Var("xs")),Seq(AM(Call(SVar("map"),[Call(SVar("new"),[])]),Var("ys")),AM(BA(Call(SVar("conc"),[]),Op("",[App(Call(SVar("zip"),[Id]),Op("",[Var("xs"),Var("ys")])),Var("env1")])),Var("env2"))))))]),Strategies([SDef("rename",[VarDec("isvar",FunType([ConstType(Var("name")),FunType([ConstType(Var("name"))],ConstType(Var("env")))],ConstType(Var("term")))),DefaultVarDec("bndvars"),VarDec("boundin",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term")))],ConstType(Var("term")))),VarDec("paste",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("vars")))],ConstType(Var("term"))))],Seq(LRule(Rule(Var("t"),Op("",[Var("t"),Op("Nil",[])]),Id)),Rec("x",Call(SVar("env-alltd"),[LChoice(Call(SVar("RnVar"),[Call(SVar("isvar"),[])]),Seq(Call(SVar("RnBinding"),[Call(SVar("bndvars"),[]),Call(SVar("paste"),[])]),Call(SVar("DistBinding"),[Call(SVar("x"),[]),Call(SVar("boundin"),[])])))]))))])])
