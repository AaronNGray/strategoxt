Specification([Imports(["simple-traversal","tuple","list","dynamic-rules"]),Rules([SDef("RnBinding",[DefaultVarDec("bndvrs")],Where(Seq(Call(SVar("bndvrs"),[]),Call(SVar("map"),[ScopeDefault(Seq(Match(Var("x")),Seq(AM(Call(SVar("new"),[]),Var("y")),DynamicRules([RDef("RenameVar",[],Rule(Var("x"),Var("y"),Id))]))))]))))]),Strategies([SDef("rename",[VarDec("isvar",FunType([ConstType(Var("name")),FunType([ConstType(Var("name"))],ConstType(Var("env")))],ConstType(Var("term")))),DefaultVarDec("bndvars")],Rec("x",Call(SVar("alltd"),[LChoice(Call(SVar("isvar"),[Call(SVar("RenameVar"),[])]),DynRuleScope(["RenameVar"],Seq(Call(SVar("RnBinding"),[Call(SVar("bndvars"),[])]),All(Call(SVar("x"),[])))))])))]),Strategies([SDef("rename",[VarDec("isvar",FunType([ConstType(Var("name")),FunType([ConstType(Var("name"))],ConstType(Var("env")))],ConstType(Var("term")))),DefaultVarDec("bndvars"),VarDec("boundin",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term")))],ConstType(Var("term"))))],Rec("x",Call(SVar("alltd"),[LChoice(Call(SVar("isvar"),[Call(SVar("RenameVar"),[])]),Seq(DynRuleScope(["RenameVar"],Seq(Call(SVar("RnBinding"),[Call(SVar("bndvars"),[])]),Call(SVar("boundin"),[Call(SVar("x"),[]),Id,Id]))),Call(SVar("boundin"),[Id,Call(SVar("x"),[]),Id])))])))]),Rules([SDef("RnBinding",[DefaultVarDec("bndvrs"),VarDec("paste",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("vars")))],ConstType(Var("term"))))],Seq(Where(Seq(Call(SVar("bndvrs"),[]),AM(Call(SVar("map"),[ScopeDefault(Seq(Match(Var("x")),Seq(AM(Call(SVar("new"),[]),Var("y")),DynamicRules([RDef("RenameVar",[],Rule(Var("x"),Var("y"),Id))]))))]),Var("ys")))),Call(SVar("paste"),[Build(Var("ys"))])))]),Strategies([SDef("rename",[VarDec("isvar",FunType([ConstType(Var("name")),FunType([ConstType(Var("name"))],ConstType(Var("env")))],ConstType(Var("term")))),DefaultVarDec("bndvars"),VarDec("boundin",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term"))),FunType([ConstType(Var("term"))],ConstType(Var("term")))],ConstType(Var("term")))),VarDec("paste",FunType([ConstType(Var("term")),FunType([ConstType(Var("term"))],ConstType(Var("vars")))],ConstType(Var("term"))))],Rec("x",Call(SVar("alltd"),[LChoice(Call(SVar("isvar"),[Call(SVar("RenameVar"),[])]),Seq(DynRuleScope(["RenameVar"],Seq(Call(SVar("RnBinding"),[Call(SVar("bndvars"),[]),Call(SVar("paste"),[])]),Call(SVar("boundin"),[Call(SVar("x"),[]),Id,Id]))),Call(SVar("boundin"),[Id,Call(SVar("x"),[]),Id])))])))])])