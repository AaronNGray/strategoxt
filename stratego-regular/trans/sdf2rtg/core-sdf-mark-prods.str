/**
 * Adds some attributes to SDF productions to keep track of there purpose.
 *
 * @author  Martin Bravenboer <martin@cs.uu.nl>
 */
module core-sdf-mark-prods
imports Sdf2 sdf-extra liblib

strategies

  main-core-sdf-mark-prods =
    io-wrap(sdf-mark-prods)

strategies

  sdf-mark-prods =
    topdown(
      try(
        mark-prod-fun
      )
    )

  mark-prod-fun =
    prod-fun(id, id, id, attrs(![term(prod-fun()) | <id>]))